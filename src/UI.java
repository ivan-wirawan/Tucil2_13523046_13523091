public class UI {
    private static final String RESET = "\u001B[0m";
    private static final String RED = "\u001B[31m";
    private static final String GREEN = "\u001B[32m";
    private static final String YELLOW = "\u001B[33m";
    private static final String BLUE = "\u001B[34m";
    private static final String PURPLE = "\u001B[35m";
    private static final String CYAN = "\u001B[36m";
    private static final String WHITE = "\u001B[1;37m";

    public static void printLogo() {
        System.out.println(CYAN + "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”" + RESET);
        System.out.println(CYAN + "  â”‚                                             â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  " + GREEN + "â–ˆâ–ˆ    " + BLUE + "â–ˆâ–ˆ  " + RED + " â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  "+ YELLOW + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆ  â–ˆâ–ˆ  " + GREEN + "â–ˆâ–ˆ    " + BLUE + "â–ˆâ–ˆ  " + RED + "â–ˆâ–ˆ   â–ˆâ–ˆ "+ YELLOW + "â–ˆâ–ˆ     â–ˆâ–ˆ      " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆ  â–ˆâ–ˆ  " + GREEN + "â–ˆâ–ˆ    " + BLUE + "â–ˆâ–ˆ  " + RED + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ "+ YELLOW + "â–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆ    " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆ  â–ˆâ–ˆ  " + GREEN + "â–ˆâ–ˆ    " + BLUE + "â–ˆâ–ˆ  " + RED + "â–ˆâ–ˆ   â–ˆâ–ˆ "+ YELLOW + " â–ˆâ–ˆ    â–ˆâ–ˆ      " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  " + GREEN + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ " + BLUE + "â–ˆâ–ˆâ–ˆ " + RED + "â–ˆâ–ˆ   â–ˆâ–ˆ "+ YELLOW + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "     â–ˆâ–ˆ  " + CYAN + "                                â”‚" + RESET);
        System.out.println(CYAN + "  â”‚                                             â”‚" + RESET);
        System.out.println(CYAN + "  â”‚    " + PURPLE + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ " + GREEN + "â–ˆâ–ˆâ–ˆâ–ˆ   " + BLUE + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ " + RED+ "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚       " + PURPLE + "â–ˆâ–ˆ    " + GREEN + "â–ˆâ–ˆ  â–ˆâ–ˆ " + BLUE + "â–ˆâ–ˆ     " + RED+ "â–ˆâ–ˆ                " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚       " + PURPLE + "â–ˆâ–ˆ    " + GREEN + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  " + BLUE + "â–ˆâ–ˆâ–ˆâ–ˆ   " + RED+ "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚       " + PURPLE + "â–ˆâ–ˆ    " + GREEN + "â–ˆâ–ˆ  â–ˆâ–ˆ " + BLUE + "â–ˆâ–ˆ     " + RED+ "â–ˆâ–ˆ                " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚       " + PURPLE + "â–ˆâ–ˆ    " + GREEN + "â–ˆâ–ˆ  â–ˆâ–ˆ " + BLUE + "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ " + RED+ "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            " + CYAN + "â”‚" + RESET);
        System.out.println(CYAN + "  â”‚                                             â”‚" + RESET);
        System.out.println(CYAN + "  â”‚            " + YELLOW + "[ IMAGE COMPRESSION ]" + CYAN + "            â”‚" + RESET);
        System.out.println(CYAN + "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜" + RESET);
    }

    public static void printHeader() {
        System.out.println(CYAN + "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" + RESET);
        System.out.println(CYAN + "â•‘" + WHITE+ "                      QUADTREE IMAGE COMPRESSION TOOL                   " + CYAN + "â•‘" + RESET);
        System.out.println(CYAN + "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" + RESET);
    }

    public static void printProgressBar(int percent) {
        final int width = 40;
        int completed = width * percent / 100;
        String[] spinChars = new String[] { "â ‹", "â ™", "â ¹", "â ¸", "â ¼", "â ´", "â ¦", "â §", "â ‡", "â " };
        String spinChar = spinChars[(percent / 5) % spinChars.length];

        StringBuilder bar = new StringBuilder();
        bar.append("\r").append(BLUE).append(spinChar).append(" ").append(WHITE).append("[");

        for (int i = 0; i < width; i++) {
            if (i < completed) {
                bar.append(GREEN).append("â– ").append(RESET);
            } else {
                bar.append(" ");
            }
        }

        bar.append(WHITE).append("] ").append(CYAN).append(String.format("%3d%%", percent)).append(RESET);
        System.out.print(bar);
        System.out.flush();
    }

    public static void printErrorMethodInfo() {
        System.out.println("\n" + CYAN+ "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" + RESET);
        System.out.println(CYAN + "â•‘                      " + WHITE + "ğŸ“Š ERROR MEASUREMENT METHOD" + CYAN+ "                       â•‘" + RESET);
        System.out.println(CYAN + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.println(CYAN + "â•‘  " + BLUE + "1. " + RESET + "Variance                         " + YELLOW+ "(0 - 16256.25)" + CYAN + "                    â•‘" + RESET);
        System.out.println(CYAN + "â•‘  " + BLUE + "2. " + RESET + "Mean Absolute Deviation          " + YELLOW+ "(0 - 127.5)" + CYAN + "                       â•‘" + RESET);
        System.out.println(CYAN + "â•‘  " + BLUE + "3. " + RESET + "Max Pixel Difference             " + YELLOW+ "(0 - 255)" + CYAN + "                         â•‘" + RESET);
        System.out.println(CYAN + "â•‘  " + BLUE + "4. " + RESET + "Entropy                          " + YELLOW+ "(0 - 8)" + CYAN + "                           â•‘" + RESET);
        System.out.println(CYAN + "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" + RESET);
    }

    public static void printResultMenu(int treeDepth, int nodeCount,double executionTime, double compressionPercentage, String inputPath, String outputPath, String gifPath, boolean saveGif, double compressionTarget, double threshold) {
        String compressionColor = compressionPercentage > 50 ? GREEN : (compressionPercentage > 25 ? YELLOW : RED);
        
        System.out.println("\n\n" + PURPLE + "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" + RESET);
        System.out.println(PURPLE + "â•‘" + WHITE + "           COMPRESSION RESULTS             " + PURPLE + "â•‘" + RESET);
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + CYAN + " %-18s" + PURPLE + "â•‘%n" + RESET,"Execution Time", String.format("%.4f ms", executionTime));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + YELLOW + " %-18s" + PURPLE + "â•‘%n" + RESET,"Original Size", String.format("%d bytes", IO.calcFileSize(inputPath)));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + GREEN + " %-18s" + PURPLE + "â•‘%n" + RESET,"Compressed Size", String.format("%d bytes", IO.calcFileSize(outputPath)));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + compressionColor + " %-18s" + PURPLE + "â•‘%n"+ RESET,"Compression Rate", String.format("%.4f%%", compressionPercentage));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + BLUE + " %-18s" + PURPLE + "â•‘%n" + RESET,"Tree Depth", String.format("%d", treeDepth));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);
        System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + BLUE + " %-18s" + PURPLE + "â•‘%n" + RESET,"Total Nodes", String.format("%d", nodeCount));
        System.out.println(PURPLE + "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" + RESET);

        if (compressionTarget != 0){
            System.out.printf(PURPLE + "â•‘" + RESET + " %-22s" + PURPLE + "â•‘" + BLUE + " %-18s" + PURPLE + "â•‘%n" + RESET,"Optimal Threshold", String.format("%.4f", threshold));
        }
        
        System.out.println(PURPLE + "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" + RESET);
        System.out.println(WHITE + "\nğŸ“„ Output Files:" + RESET);
        System.out.println(GREEN + " âœ… Compressed Image: " + RESET + outputPath);
        if (saveGif && gifPath != null) {
            System.out.println(GREEN + " âœ… Compression GIF: " + RESET + gifPath);
        }
    }
    public static String getThresholdRange(int method) {
        switch (method) {
            case 1:
                return "(0-16256.25)";
            case 2:
                return "(0-127.5)";
            case 3:
                return "(0-255)";
            case 4:
                return "(0.0-8.0)";
            // case 5:
            //     return "(0.0-1.0)";
            default:
                return "";
        }
    }

    public static String getMethodName(int method) {
        switch (method) {
            case 1:
                return "Variance";
            case 2:
                return "Mean Absolute Deviation";
            case 3:
                return "Max Pixel Difference";
            case 4:
                return "Entropy";
            // case 5:
            //     return "SSIM";
            default:
                return "Unknown";
        }
    }
}
